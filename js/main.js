const DOTS_STEP = 15;
const TRACE_COUNT = 25;
const TRACE_K = 0.4;

const makePoints = function (pathSVG, color, color2) {
  const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
  path.setAttribute("d", pathSVG);

  let step = 0;
  let points = [];
  const totalLength = path.getTotalLength();

  const move = function () {
    const point = path.getPointAtLength(step);
    const x = point.x;
    const y = point.y;
    points.push([x, y, color, color2]);
    step += DOTS_STEP;
    if (step <= totalLength) move();
  };

  move();
  return points;
};

const figure1 = makePoints(
  "M180.59,10.66c0.33,4.52,2.65,8.31,4.56,12.24c1.7,3.52,3.4,7.05,5.31,10.46c3.94,6.99,4.05,7.1,11.52,4.59 c1.88-0.63,3.74-1.09,5.65-1.45c9,0.01,18,0.01,27,0.02c4.51,0.69,9.18,7.39,9.05,11.4c-0.13,4.29-2.61,7.29-5.58,9.52 c-7.4,5.56-16.24,8.44-24.56,12.3c-9.34,4.33-19.06,8.11-25.97,16.39c-5.03,6.03-8.26,12.77-8.54,20.7 c-0.17,4.99,0.03,10-0.09,14.99c-0.15,6.11,2.71,10.97,5.86,15.89c5.31,8.29,13.48,12.31,21.97,16.38 c4.45,2.14,8.95,1.86,13.41,2.65c5.1,0.91,10.32,0.02,15.56,1.28c5.15,1.24,10.44-0.97,15.6-1.98c13.23-2.59,23.92-10.9,35.8-16.53 c1.81-0.86,3.86-0.57,5.57-1.83c1.05-0.78,2.18,0.51,2.83,1.27c1.08,1.25,0.77,2.78-0.06,4.14c-2.36,3.87-4.76,7.66-8.09,10.86 c-6.24,6.01-12.33,12.18-18.36,18.39c-2.41,2.48-4.36,2.98-7.16,0.36c-4.54-4.24-10.41-6.27-16.08-8.51 c-4.68-1.85-9.65-2.62-14.53-3.71c-0.8-1.16-2.04-0.71-3.07-0.72c-6.83-0.04-13.66-0.02-20.5,0.09c-1.15,0.02-2.51-0.47-3.48,0.68 c-8.06,2-16.18,3.75-23.48,8.07c-7.33,4.34-13.19,10.16-18.23,16.92c-3.99,5.35-7.05,11.25-9.22,17.48 c-1.92,5.51-4.1,11.06-4.09,17.09c0.02,9.62-0.03,19.23-0.01,28.85c0.01,5.49,1.83,10.63,3.72,15.63c2.35,6.2,2.45,6.32-2.01,11.21 c-9.62,10.55-19.49,20.89-27.89,32.47c-3.78,5.22-7.34,10.53-9.53,16.77c-4.1,11.66,2.44,27.84,14.14,32.06 c6.95,2.51,14.24,2.64,21.58-0.04c10.53-3.85,20.73-8.54,31.59-11.58c8.97-2.51,17.82-4.73,27.21-4.2 c6.41,0.36,12.1,3.24,14.03,9.75c1.43,4.82-0.2,8.87-2.88,12.38c-5.23,6.86-12.97,10.37-20.6,13.73 c-7.85,3.46-15.92,6.34-23.02,11.39c-8.93,6.35-15.56,14.22-18.02,25.15c-1.87,5.59-0.37,11.35-0.78,17.02 c-0.07,0.96-0.53,2.23,0.78,2.9c2.84,9.7,9.04,16.93,16.95,22.87c1.25,0.94,2.8,1.5,3.31,3.19c-5.48-0.71-10.47-3.13-15.69-4.71 c-18.83-5.67-36.5-14-53.38-23.97c-15.41-9.1-29.35-20.22-41.93-32.88c-17.41-17.52-30.78-38.02-41.92-59.99 c-8.38-16.51-13.99-33.98-18.23-51.99c-2.71-11.47-3.66-23.05-4.63-34.73c-0.71-8.5-0.84-16.92-0.6-25.4 c0.53-18.53,3.46-36.58,8.71-54.43c4.58-15.58,9.66-30.89,16.95-45.39c11.64-23.17,27.44-43.25,46.31-60.93 c20.94-19.62,44.62-34.96,71.67-44.81C156.59,16.19,168.57,13.33,180.59,10.66z M124.09,280.8c2.18-1.33,3.98-3.05,5.24-5.3 c3.01-1.25,4.87-3.75,6.8-6.18c0.65-0.82,1.09-1.75,0.74-2.78c-4.63-13.77-2.08-27.99-2.68-42.01c-0.14-3.36-0.44-6.84,0.23-10.09 c4.86-23.8,15.9-43.78,36.43-57.74c5.1-3.47,5.23-6.55,0.58-10.84c-0.46-0.42-0.99-0.76-1.48-1.13c-0.13-2.25-1.54-3.78-2.96-5.31 c-0.09-2.93-1.52-5.34-3.02-7.71c0-2.28-1.69-4.18-1.44-6.51c0.04-4.12,0.11-8.24,0.11-12.36c0-4.64-0.74-5.02-5-3.13 c-10.22,4.56-18.39,12.03-26.3,19.52c-16.33,15.47-28.09,34.04-35.24,55.52c-3.48,10.47-7.07,21.14-7.35,31.97 c-0.5,19.98-2.67,40.25,3.42,59.9c2.84,9.15,5.57,18.35,9.75,27.02c1.62,3.37,2.89,3.59,4.95,0.66c2.28-3.23,5-6.24,6.16-10.16 c1.42-2.19,4.35-3.27,4.64-6.29C120.97,286.52,122.97,284.06,124.09,280.8z M33.79,235.94c0,6.37-0.5,12.92,0.11,19.35 c1.18,12.41,3.54,24.63,7.13,36.63c6.32,21.1,15.64,40.71,28.18,58.78c9.78,14.1,21.4,26.52,34.87,37.19 c10.25,8.12,20.56,16.15,32.42,21.88c3.99,1.93,5.48,1.61,6.64-2.12c4.66-15.03,15.19-25.07,27.83-33.43 c6.89-4.55,14.38-7.79,22.07-10.68c2.04-0.77,5.38-2,4.32-4.7c-1.06-2.7-4.14-0.95-6.34-0.5c-12.39,2.59-23.8,8.09-35.72,12.1 c-10.75,3.62-21.33,4.55-32.2,0.73c-4.98-1.75-8.84-4.99-12.71-8.32c-3.29-2.82-6.35-5.32-11.29-5.68 c-6.02-0.45-11.66-3.46-15.26-8.54c-4.08-5.76-7.7-11.91-11.01-18.16c-7.49-14.11-13.39-28.88-17.36-44.39 c-1.88-7.36-3.91-14.71-4.51-22.29c-1.17-14.7-0.75-29.45-0.74-44.19c0-2.11,0.1-4.26,0.52-6.32c1.68-8.17,3.36-16.36,5.33-24.47 c4.27-17.64,11.14-34.22,20.37-49.86c9.77-16.55,21.86-31.08,36.57-43.5c11.78-9.94,24.5-18.38,38.41-24.97 c8.54-4.04,17.24-7.75,26.48-1.75c1.71,1.11,3.16,1.14,4.69-0.33c1.71-1.63,3.93-3.06,3.04-5.88c-1.72-5.46-3.78-10.81-6.38-15.93 c-0.95-1.87-2.57-2.44-4.74-1.79c-18.2,5.52-35.74,12.55-51.93,22.66C99.37,82.01,80.86,101.23,65.85,124 c-9.81,14.89-17.4,30.87-22.9,47.73C36.19,192.49,32.54,213.84,33.79,235.94z M62.32,242.51c0.31,4.37-0.62,12.34,0.58,20.33 c2.81,18.61,7.78,36.54,15.89,53.53c4.13,8.65,8.32,17.3,14.38,24.86c1.82,2.27,3.92,3.92,6.95,3.55 c5.17-0.63,7.49-5.66,4.62-10.45c-6.02-10.03-11.79-20.17-16.39-30.97c-6.66-15.61-11.37-31.75-11.9-48.74 c-0.39-12.57-0.84-25.2,0.67-37.79c0.94-7.8,1.96-15.58,3.91-23.2c4.38-17.14,11.5-33.06,21.25-47.86 c10.05-15.25,22.4-28.14,37.28-38.78c9.17-6.56,19.22-11.35,29.25-16.27c4.2-2.06,5.76-5.68,4.26-9.45 c-1.06-2.67-4.91-4.16-8.78-3.16c-4.24,1.09-8.31,2.79-12.11,4.9c-17.25,9.55-33.57,20.21-46.84,35.25 c-11.68,13.24-21.15,27.79-28,43.9C66.95,186.61,61.13,212.12,62.32,242.51z",
  79,
  65
);
const figure2 = makePoints(
  "M284.47,115.97c-7.16,1.68-13.89,4.6-20.78,7.05c-11.33,4.02-22.75,7.53-34.99,6.63 c-4.78-0.35-9.31-2.04-12-6.02c-5.33-7.88-1.93-17.49,5.64-22.42c8.67-5.64,18.43-8.93,27.54-13.57 c12.2-6.22,22.42-14.74,27.86-27.62c3.14-7.44,2.73-15.41,1.06-23.37c-2.44-11.68-12.19-17.59-19.45-25.46 c-0.44-0.47-0.74-0.91-0.97-1.46c1.42-2.04,3.36-0.94,5.06-0.73c7.07,0.86,13.75,3.3,20.48,5.46c9.92,3.19,20.02,5.9,29.54,10.22 c17.69,8.03,33.97,18.32,48.99,30.69c15.64,12.88,29.27,27.61,40.75,44.2c11.53,16.66,21.01,34.48,28.05,53.6 c5.01,13.59,9,27.41,11.33,41.67c1.46,8.96,2.29,18.01,2.94,27.08c0.62,8.61,0.76,17.15,0,25.77c-1.26,14.27-3.47,28.36-6.48,42.36 c-4.32,20.1-11.8,38.97-21.4,57.04c-8.08,15.22-18.47,28.83-29.57,41.96c-17.36,20.54-39.08,35.38-62.1,48.73 c-12.89,7.47-26.66,12.51-40.72,17.03c-0.82,0.26-1.71,0.29-2.57,0.43c-5.67-4.72-12.8-4.12-19.44-5.35 c-2.04-0.38-4.11-0.66-6.07-1.3c-3.11-1.02-4.42-3.81-5.87-6.46c-4.26-7.79-9.4-9.86-17.83-8.26c-1.57,0.3-3.21,0.21-4.82,0.31 c-5.1-0.01-10.19-0.08-15.29,0c-1.4,0.02-3.02-0.67-4.16,0.82c0.01,0.17,0.02,0.34,0.05,0.51c-7.51,0.44-12.37-2.33-15.28-7.73 c-3.07-5.7-0.61-12.44,3.73-15.7c4.53-3.4,9.74-5.8,15.03-7.91c12.15-4.85,24.56-9.29,34.43-18.31c2.33-2.13,4.48-4.73,5.7-7.83 c1.18,0.85,1.74,2.15,2.14,3.43c1.61,5.2,3.58,10.26,5.75,15.25c-2.5,2.05-4.95,4.16-7.53,6.11c-1.86,1.41-2.36,2.79-1.39,5.1 c1.91,4.58,3.51,9.29,5.12,13.99c1.71,4.99,2.86,5.67,7.88,4.57c13.9-3.06,26.99-8.34,39.84-14.3 c20.41-9.47,37.92-22.81,53.39-39.12c20.48-21.59,36.02-46.04,44.97-74.51c5.04-16.04,8.73-32.37,9.94-49.19 c1.31-18.11,0.88-36.14-3.06-53.94c-4.53-20.49-11.55-40.1-21.81-58.44c-11.34-20.28-25.74-38.05-43.67-53.01 c-13.26-11.07-27.58-20.29-43.24-27.5c-3.98-1.83-4.8-1.52-6.19,2.6c-1.66,4.94-2.5,10.24-5.37,14.65 c-8.74,13.42-20.03,23.85-35.36,29.47c-4.07,1.49-7.91,3.62-11.88,5.43c-1.07,0.49-2.31,1.15-2.08,2.3 c0.29,1.41,1.84,1.44,3.09,1.42c0.61-0.01,1.22-0.23,1.82-0.37c8.49-1.99,16.38-5.72,24.59-8.54c6.66-2.29,13.07-5.44,20.27-5.91 C284.77,102.59,282.91,108.76,284.47,115.97z",
  194,
  78
);
const figure4 = makePoints(
  "M260.77,396.69c-2.17-4.99-4.14-10.05-5.75-15.25c-0.39-1.28-0.95-2.58-2.14-3.43 c1.49-2.26,2.74-4.71,3.27-7.31c0.56-2.76,1.49-5.28,2.85-7.69c1.27,1.74,1.9,3.77,2.59,5.76c2.72,7.89,5.72,15.64,10.58,22.51 c2.68,3.79,7.24,5.54,11.06,3.58c8.18-4.18,16.95-7.15,24.81-11.96c15.26-9.35,28.73-20.79,40.34-34.45 c12.35-14.53,22.52-30.42,28.36-48.57c6.85-21.26,10.36-43.06,9.58-65.65c-0.57-16.28-2.18-32.23-6.25-47.97 c-3.57-13.84-7.91-27.36-14.52-40.14c-6.97-13.48-15.9-25.51-25.9-36.77c-4.27-4.81-8.54-9.7-13.61-13.77 c-3.99-3.21-9.08-3.23-11.75,0.01c-3.01,3.64-2.05,7.28,2.53,11.03c4.62,3.78,9.22,7.62,13.52,11.76 c11.87,11.44,20.13,25.36,27.17,40.12c6.37,13.35,10.36,27.29,12.31,41.99c1,7.57,0.89,15.16,1.87,22.71 c0.8,6.16,1.59,12.41,1.36,18.59c-0.22,5.8-1.05,11.63-1.79,17.43c-2.06,16.17-6.5,31.63-13.21,46.4 c-8.35,18.36-20.66,33.91-35.68,47.24c-10.27,9.11-21.61,16.75-34.34,22.11c-6.28,2.65-8.68,2.34-12.3-2.7 c-4.39-6.12-6.56-13.78,3.31-17.86c8.48-3.51,16.17-8.62,23.46-14.3c12.35-9.62,23.47-20.45,31.84-33.71 c12.93-20.48,19.58-43.11,20.93-67.18c0.89-15.98-0.79-31.82-5.22-47.29c-5.21-18.19-12.25-35.44-25.63-49.39 c-1.87-1.94-1.35-4.39-1.3-6.68c0.22-9.45-3.87-16.73-12.3-20.47c-7.66-3.4-15.99-3.71-23.94,0c-0.83,0.39-1.53,0.7-2.42,0.57 c-1.56-7.21,0.3-13.37,5.64-18.48c5.42-2.57,8.74-7.67,13.46-11.12c7.33-5.35,14.74-8.73,23.82-4.13 c8.89,4.51,15.8,11.39,22.06,18.78c17.75,20.92,31.49,44.23,40.35,70.31c5.11,15.05,8.43,30.52,8.85,46.37 c0.47,17.66,0.42,35.24-3.27,52.83c-4.72,22.48-11.64,43.91-23.59,63.56c-9.95,16.35-22.39,30.58-36.83,43.19 c-13.47,11.76-28.56,20.7-44.95,27.52c-9.37,3.9-18.94,4.31-26.52-6.19C262.77,397.64,261.75,397.21,260.77,396.69z",
  147,
  96
);
const figure5 = makePoints(
  "M185.47,234.25c-0.51-10.48,0.6-20.42,5.7-29.48c3.5-6.21,7.42-12.49,14.86-14.3 c11.78-2.87,23.55-3.44,33.29,5.64c5.38,5.02,8.37,11.69,10.15,18.76c3,11.96,3.69,24.1,1.45,36.24 c-1.38,7.45-3.57,14.72-9.01,20.47c-10.68,11.28-28.76,12.42-40.05,5.21c-7.12-4.54-11.2-11.36-13.68-19.26 C185.76,249.85,184.99,241.98,185.47,234.25z M234.89,228.44c0.14-3.26-0.09-6.48-0.76-9.68c-1.92-9.26-8.11-14.39-17.28-14.25 c-7.34,0.11-12.56,5.39-14.01,14.45c-0.73,4.55-1.48,9.15-1.59,13.74c-0.2,8.12,0.33,16.24,3.23,23.95 c2.66,7.09,10.91,10.94,18.02,8.88c8.07-2.33,10.47-8.72,12.33-15.88C236.69,242.52,234.96,235.5,234.89,228.44z",
  37,
  30
);
const figure6 = makePoints(
  "M254.22,336.67c3.72-0.19,6.62-2.46,9.84-3.89c1.9-0.84,3.76-1.79,5.64-2.7c4.11-0.56,7.36-2.98,10.54-5.28 c16.92-12.24,28.93-28.36,36.79-47.6c4.68-11.45,7.17-23.45,8.31-35.75c0.47-5.07,1.7-10.19,1.28-15.18 c-0.87-10.25-2.59-20.46-5.17-30.44c-1.02-3.94-1.67-8.38-5.77-10.8c-2.36-5.24-3.84-11.01-8.8-14.7 c3.5-5.14,6.4-10.79,11.99-14.17c6.24,5.84,9.76,13.45,12.8,21.13c4.61,11.64,8.98,23.39,8.84,36.31 c-0.05,5.17,1.18,10.36,1.91,15.53c0.59,4.19-0.86,8.14-1.37,12.19c-1.49,11.69-2.91,23.34-7.17,34.54 c-5.1,13.39-12.3,25.41-21.22,36.51c-10.98,13.67-24.6,24.15-39.81,32.59c-4.38,2.43-8.87,4.95-13.92,5.98 C257.36,346.18,255.79,341.43,254.22,336.67z",
  147,
  96
);
const figure8 = makePoints(
  "M113.05,294.12c-1.62-0.99-2.19-2.68-2.73-4.33c-5.43-16.68-8.67-33.63-8.93-51.33 c-0.23-15.53,1.56-30.58,5.91-45.36c7.25-24.64,21.38-44.51,42.12-59.67c2.82-2.06,5.61-4.17,8.46-6.18 c1.4-0.98,2.73-2.21,4.65-2.07c-0.26,2.33,1.44,4.24,1.44,6.51c-2.7,0.89-4.39,3.21-6.62,4.76c-13.4,9.28-24.46,20.86-32.83,34.81 c-11.66,19.43-15.35,41.05-16.56,63.29c-0.63,11.59,1.85,22.79,4.02,34.02c1.27,6.59,2.84,13.12,5.71,19.24 C117.4,290.85,114.47,291.93,113.05,294.12z",
  237,
  56
);
const figure9 = makePoints(
  "M124.09,280.8c-4.18-6.93-4.96-14.87-6.28-22.56c-3.64-21.15-1.84-42.03,4.16-62.57 c5.22-17.89,15.28-32.69,29.43-44.7c4.94-4.18,9.64-8.74,15.6-11.56c1.41,1.53,2.83,3.07,2.95,5.31 c-11.81,8.52-22.33,18.34-30.77,30.29c-8.32,11.78-12.74,25.04-14.68,39.19c-1.06,7.77-2.4,15.5-2.33,23.4 c0.11,11.95,2.74,23.47,5.6,34.96c0.26,1.04,1.03,1.96,1.56,2.93C128.06,277.75,126.27,279.47,124.09,280.8z",
  237,
  56
);


const figure10 = makePoints(
  "M222.5,477.54c5.16,0.78,10.34,1.52,15.49,2.37c2.86,0.48,5.22,0.27,7.43-2.11c3.64-3.93,7.05-3.05,8.76,2.04 c0.55,1.63,1.68,2.42,3.04,3.06c2.55,1.2,3.14,3.31,2.92,5.89c-0.22,2.61-1.71,4.11-4.16,4.59c-2.38,0.46-3.21,1.93-3.51,4.16 c-0.88,6.54-1.88,13.06-2.84,19.59c-0.13,0.86-0.28,1.72-0.52,2.55c-1.21,4.06-3.34,5.71-6.55,5.12c-2.98-0.55-4.9-3.29-4.44-7.2 c0.79-6.68,1.83-13.33,2.88-19.97c0.89-5.66,0.78-5.81-4.76-6.65c-5.78-0.87-11.52-1.98-17.3-2.82c-3.31-0.48-5.37-1.93-5.26-5.51 c0.1-3.17,2.36-4.99,6.18-5.05c0.87-0.01,1.74,0.09,2.61,0.14C222.48,477.67,222.49,477.61,222.5,477.54z",
  336,
  80
);
const figure11 = makePoints(
  "M229.26,513.12c-0.04,3.56-3.32,6.06-6.41,4.42c-5.14-2.72-8.55-7.3-10.49-12.65 c-1.23-3.38,2.94-7.08,6.31-6.08C222.37,499.92,229.3,509.28,229.26,513.12z",
  336,
  80
);
const figure12 = makePoints(
  "M282.68,455.23c2.94,4.7,6.54,9.03,7.15,14.92c0.25,2.37,0.53,4.72,0.26,7.06c-1.19,10.4-2.43,20.8-3.74,31.18 c-1.15,9.11-2.13,18.27-3.73,27.31c-1.49,8.45-6.57,14.25-14.85,17c-4.92,0.02-9.83,0.04-14.75,0.06 c-10.51-0.92-20.91-2.59-31.34-4.09c-7-1.01-14.08-1.45-21.06-2.56c-16.1-2.58-21.44-13.22-19.6-28.05 c2.09-16.8,4.52-33.56,6.8-50.33c0.53-3.91-1.74-6.77-5.74-7.17c-1.48-0.15-3.01-0.04-4.32-0.93c-0.51-1.68-2.06-2.25-3.31-3.19 c-7.91-5.94-14.11-13.16-16.95-22.87c0-6.64,0-13.28,0-19.91c2.46-10.93,9.09-18.8,18.02-25.15c7.09-5.04,15.17-7.93,23.02-11.39 c7.63-3.36,15.37-6.87,20.6-13.73c2.68-3.51,4.31-7.56,2.88-12.38c-1.93-6.51-7.62-9.39-14.03-9.75 c-9.39-0.53-18.25,1.68-27.21,4.2c-10.86,3.04-21.06,7.73-31.59,11.58c-7.34,2.68-14.64,2.55-21.58,0.04 c-11.7-4.23-18.24-20.4-14.14-32.06c2.2-6.25,5.75-11.56,9.53-16.77c8.4-11.58,18.27-21.93,27.89-32.47 c4.46-4.9,4.36-5.01,2.01-11.21c-1.89-5-3.71-10.14-3.72-15.63c-0.02-9.62,0.04-19.23,0.01-28.85c-0.02-6.03,2.16-11.58,4.09-17.09 c2.17-6.22,5.23-12.13,9.22-17.48c5.05-6.76,10.9-12.59,18.23-16.92c7.3-4.32,15.42-6.07,23.48-8.07 c9.01-0.02,18.03-0.03,27.04-0.05c4.88,1.09,9.86,1.86,14.53,3.71c5.67,2.24,11.54,4.27,16.08,8.51c2.81,2.62,4.76,2.12,7.16-0.36 c6.04-6.21,12.12-12.38,18.36-18.39c3.32-3.2,5.72-7,8.09-10.86c0.84-1.37,1.14-2.9,0.06-4.14c-0.65-0.75-1.78-2.04-2.83-1.27 c-1.71,1.27-3.76,0.98-5.57,1.83c-11.88,5.63-22.57,13.94-35.8,16.53c-5.15,1.01-10.44,3.22-15.6,1.98 c-5.23-1.26-10.45-0.37-15.56-1.28c-4.46-0.79-8.96-0.51-13.41-2.65c-8.48-4.07-16.66-8.09-21.97-16.38 c-3.15-4.92-6.01-9.78-5.86-15.89c0.12-4.99-0.08-10,0.09-14.99c0.27-7.93,3.5-14.67,8.54-20.7c6.91-8.27,16.63-12.06,25.97-16.39 c8.32-3.86,17.16-6.74,24.56-12.3c2.96-2.22,5.45-5.22,5.58-9.52c0.12-4.01-4.55-10.71-9.05-11.4c-0.27-1.33-1.31-1.29-2.32-1.29 c-7.45,0-14.9,0-22.35,0c-1.01,0-2.05-0.05-2.33,1.27c-1.92,0.36-3.77,0.82-5.65,1.45c-7.47,2.51-7.58,2.4-11.52-4.59 c-1.92-3.4-3.61-6.94-5.31-10.46c-1.9-3.93-4.23-7.72-4.56-12.24c8.47-5.44,18.27-6.6,27.81-8.42c11.62-2.22,23.18-1.27,34.66,1.43 c4.25,1,8.29,2.39,12.03,4.64c1.03,0.62,1.84,1.77,3.29,1.41c0.24,0.54,0.54,0.99,0.97,1.46c7.26,7.88,17.01,13.78,19.45,25.46 c1.67,7.96,2.08,15.94-1.06,23.37c-5.44,12.87-15.66,21.4-27.86,27.62c-9.12,4.64-18.87,7.93-27.54,13.57 c-7.57,4.93-10.97,14.54-5.64,22.42c2.7,3.99,7.22,5.67,12,6.02c12.24,0.91,23.65-2.6,34.99-6.63c6.89-2.45,13.63-5.38,20.78-7.05 c0.88,0.12,1.59-0.19,2.42-0.57c7.96-3.71,16.28-3.4,23.94,0c8.43,3.74,12.52,11.02,12.3,20.47c-0.05,2.29-0.57,4.73,1.3,6.68 c-3.13,4.02-4.55,8.74-5.56,13.63c-5.58,3.38-8.49,9.03-11.99,14.17c-0.22,0.44-0.35,0.96-0.67,1.31 c-7.22,8.04-14.36,16.17-21.76,24.05c-2.51,2.67-2.18,5.45-1.25,8.23c3.04,9.03,4.67,18.32,5.15,27.79 c0.44,8.67-0.59,17.2-2.4,25.77c-1.92,9.11-4.91,17.64-10.01,25.33c-11.03,16.63-27.24,24.66-46.58,26.84 c-6.05,0.68-12.23,0.08-18.34,0.27c-5.15,0.16-10.29-0.72-15-2.17c-7.37-2.26-14.58-5.36-20.49-10.76 c-2.22-2.03-4.48-2.6-7.08,0.44c-4.14,4.83-8.84,9.21-13.45,13.62c-5.3,5.08-10.22,10.46-14.13,16.71 c-0.93,1.49-1.03,2.9,0.33,4.31c1.3,1.34,2.62,1.61,4.35,0.93c7.41-2.91,14.55-6.36,21.47-10.26c11.23-6.33,23.09-10.21,36.15-10.1 c3.42,0.03,6.63,1.15,9.96,1.21c5.82,0.11,11.32,0.74,16.92,3.01c10.26,4.16,18.77,9.94,24.15,19.81c1.57,4.76,3.13,9.52,4.7,14.27 c-0.52,4.03-0.36,8.05,0.08,12.07c-1.36,2.41-2.29,4.93-2.85,7.69c-0.53,2.6-1.78,5.05-3.27,7.31c-1.22,3.1-3.38,5.7-5.7,7.83 c-9.87,9.02-22.29,13.46-34.43,18.31c-5.29,2.11-10.5,4.51-15.03,7.91c-4.35,3.26-6.8,10-3.73,15.7c2.91,5.41,7.77,8.18,15.28,7.74 c3.58,0.03,7.17,0.22,10.74,0.02c2.7-0.15,5.53,0.94,8.12-0.63c0.18-0.24,0.36-0.48,0.53-0.72c1.61-0.09,3.25-0.01,4.82-0.31 c8.43-1.6,13.58,0.47,17.83,8.26c1.45,2.65,2.76,5.44,5.87,6.46c1.96,0.64,4.04,0.92,6.07,1.3 C269.88,451.12,277.01,450.52,282.68,455.23z M185.47,234.25c-0.48,7.73,0.29,15.6,2.69,23.28c2.48,7.9,6.56,14.72,13.68,19.26 c11.29,7.2,29.37,6.06,40.05-5.21c5.44-5.75,7.64-13.02,9.01-20.47c2.24-12.14,1.56-24.28-1.45-36.24 c-1.78-7.07-4.77-13.74-10.15-18.76c-9.74-9.08-21.51-8.51-33.29-5.64c-7.45,1.81-11.37,8.09-14.86,14.3 C186.06,213.83,184.96,223.77,185.47,234.25z M270.69,483.84c0.38-9.51-1.62-12.67-8.53-14.04c-6.07-1.2-12.25-1.83-18.4-2.6 c-7.87-0.99-15.8-1.62-23.63-2.87c-8.37-1.34-12.14,0.93-13.79,9.21c-0.12,0.61-0.1,1.24-0.19,1.86 c-1.88,12.54-3.98,25.05-5.6,37.62c-1.5,11.63,1.22,13.71,10.47,14.84c14.58,1.78,29.07,4.33,43.74,5.39 c7.12,0.51,8.87-0.86,9.98-8.09c0.62-4.06,1.29-8.11,1.87-12.17C268.08,502.64,269.51,492.28,270.69,483.84z",
  336,
  80
);

const pointsImage = [
  figure1,
  figure2,
  figure4,
  figure5,
  figure6,
  figure8,
  figure9,
  figure10,
  figure11,
  figure12,
];

let c = document.querySelector("canvas"),
  $ = c.getContext("2d"),
  w = (c.width = innerWidth),
  h = (c.height = innerHeight);

$.fillStyle = "black";
$.fillRect(0, 0, w, h);

let pointsOrigin = pointsImage;
const translateToCenter = function (coords, w, h) {
  const listX = coords.map(figure =>
    figure.map(item => item[0])
  ).flat();

  const listY = coords.map(figure =>
    figure.map(item => item[1])
  ).flat();

  const points = {
    minX: Math.min(...listX),
    maxX: Math.max(...listX),
    minY: Math.min(...listY),
    maxY: Math.max(...listY)
  };

  const tx = w / 2 - (points.maxX - points.minX) / 2;
  const ty = h / 2 - (points.maxY - points.minY) / 2;

  return coords.map(figure =>
    figure.map(item => ([
      item[0] + tx,
      item[1] + ty,
      item[2],
      item[3]
    ]))
  );
};

pointsOrigin = translateToCenter(pointsImage, w, h);
window.addEventListener("resize", function () {
  w = c.width = innerWidth;
  h = c.height = innerHeight;
  $.fillStyle = "black";
  $.fillRect(0, 0, w, h);
  pointsOrigin = translateToCenter(pointsImage, w, h);
});

const getOptions = function (points) {
  const pointsCount = points.length;
  const e = [];
  for (let i = 0; i < pointsCount; i++) {
    const x = Math.random() * w;
    const y = Math.random() * h;

    e[i] = {
      vx: 0,
      vy: 0,
      R: 2,
      speed: Math.random() + 5,
      q: ~~(Math.random() * pointsCount),
      D: 2 * (i % 2) - 1,
      force: 0.2 * Math.random() + 0.7,
      f: `hsla(${points[i][2]}, ${points[i][3]}%, ${~~(60 * Math.random() + 20)}%, 0.7)`,
      trace: []
    };

    for (let k = 0; k < TRACE_COUNT; k++)
      e[i].trace[k] = {
        x: x,
        y: y
      };
  }

  return e;
}

const pointsList = pointsOrigin.map(getOptions)
const loop = function () {
  $.fillStyle = "rgba(0,0,0,.1)";
  $.fillRect(0, 0, w, h);

  pointsList.forEach((e, key) => {
    const targetPoints = pointsOrigin[key];

    const pointsCount = targetPoints.length;
    for (let i = e.length; i--;) {
      let u = e[i],
        q = targetPoints[u.q],
        dx = u.trace[0].x - q[0],
        dy = u.trace[1].y - q[1],
        length = Math.sqrt(dx * dx + dy * dy);

      if (10 > length) {
        if (0.95 < Math.random()) {
          u.q = ~~(Math.random() * pointsCount);
        } else {
          if (0.99 < Math.random()) {
            u.D *= -1;
          }

          u.q += u.D;
          u.q %= pointsCount;

          if (0 > u.q) {
            u.q += pointsCount;
          }
        }
      }

      u.vx += (-dx / length) * u.speed;
      u.vy += (-dy / length) * u.speed;

      u.trace[0].x += u.vx;
      u.trace[0].y += u.vy;

      u.vx *= u.force;
      u.vy *= u.force;

      for (let k = 0; k < u.trace.length - 1;) {
        let T = u.trace[k];
        let N = u.trace[++k];
        N.x -= TRACE_K * (N.x - T.x);
        N.y -= TRACE_K * (N.y - T.y);
      }

      $.fillStyle = u.f;
      for (let k = 0; k < u.trace.length; k++) {
        $.fillRect(u.trace[k].x, u.trace[k].y, 1, 1);
      }
    }
  })

  requestAnimationFrame(loop);
};

document.addEventListener('DOMContentLoaded', loop, false);
